INDEXES in ORACLE
------------------
	- Use indexes to speed up queries 
	- indexes are speed up searching of any informations in tables 
	- so here create indexes on those columns which are frequently used in WHERE conditions 
	- indexes are helpful of the operations return only small portion of data i.e less thatn 15% of data is retrieved from tables 

	Follow Below Guidelines For creating Indexes 
	---------------------------------------------
		- Do not create indexes on small tables i.e where number of rows are less (full table scan itself will be faster if table is small )
		- Do not create indexex where columns may containe many Null values 
		- Do not create BTree indexes on those columns which may containe many repeated values In this case create BITMAP indexes on these columns 
		- Limit the number of indexes on table because, although they speed up queries, but at the same time DML operations become very slow as all the indexes have to updated whenever an update, Delete or Insert takes place on tables 

		1. Create index statement
			- To create a new index for a table, you use the CREATE INDEX statement as follows 

				CREATE INDEX index_name
				ON table_name(column_1[,column_2,....])

		2. Removing Indexes 
			- To Remove an index, you can use the DROP INDEX statement

				DROP INDEX index_name;

		3. UNIQUE index
			- An index can be inique or non unique 
			- A unique index ensures that no two rows of a table have Duplicate values in the indexed column (or columns )
			- A Non-Unique index does not impose tis restriction on the indexed columns values

				CREATE UNIQUE INDEX index_name ON 
				table_name (column_1[,column_2,...]);

		4. Suppose The member table has a primary key column, therefore,member_id Oracle craeted a new index for this column 
		- To view all indexes of a table, you query from the table all_indexes view

			SELECT index_name,index_type,visibility,status
			FROM all_indexes 
			WHERE table_name = 'MEMBERS';



				SQL> select index_name,index_type,visibility,status
				  2  from all_indexes
				  3  where table_name = 'DEPT';

				INDEX_NAME
				--------------------------------------------------------------------------------
				INDEX_TYPE                  VISIBILIT STATUS
				--------------------------- --------- --------
				SYS_C007495
				NORMAL                      VISIBLE   VALID

				SYS_C007547
				NORMAL                      VISIBLE   VALID


				SQL>
		- from above output table will automatcally created it 
		- lets create index table here


			SQL> create table members(
			  2     member_id INT GENERATED BY DEFAULT AS IDENTITY,
			  3     first_name VARCHAR2(100) NOT NULL,
			  4     last_name VARCHAR2(100) NOT NULL,
			  5     gender CHAR(1) NOT NULL,
			  6     dob DATE NOT NULL,
			  7     email VARCHAR2(255) NOT NULL,
			  8     PRIMARY KEY (member_id)
			  9  );

			Table created.

			SQL>

			- lets check members table of indexs

				SQL> select index_name,index_type,visibility,status
				  2  from all_indexes
				  3  where table_name = 'MEMBERS';

				INDEX_NAME
				--------------------------------------------------------------------------------
				INDEX_TYPE                  VISIBILIT STATUS
				--------------------------- --------- --------
				SYS_C007573
				NORMAL                      VISIBLE   VALID


				SQL>
			 - lets create index on members table 


				SQL> create index  idx1 on members(first_name);

				Index created.

				SQL> select index_name,index_type,visibility,status
				  2  from all_indexes
				  3  where table_name = 'MEMBERS';

				INDEX_NAME
				--------------------------------------------------------------------------------
				INDEX_TYPE                  VISIBILIT STATUS
				--------------------------- --------- --------
				SYS_C007573
				NORMAL                      VISIBLE   VALID

				IDX1
				NORMAL                      VISIBLE   VALID


				SQL>
				 - we added to column first_name we add idx1 

	Example:
		1. create a index for one column

			CREATE INDEX members_last_name_i
			ON members(last_name);

		2. To Drop index

			CREATE INDEX members_name_i;

		3. create a index on multiple columns 

			CREATE INDEX members_nanme_i
			ON members(last_name,firts_name);

		4. For Unique index 

			CREATE INDEX members_email_i
			ON members(email);


		- By having this members_email_i index, you cannot have two rows with the same value in the email column 
		- the following statement will fail because it attemts to insert a new row whose email already exists 





 Function based indexes
 -----------------------
 	- Function based indexes are built on expressions rather than on column values 
 	- A function-based index Calculates the result of a function that involves one or more columns and stores that result in the index 

 		syntax:

 			CREATE INDEX index_name
 			ON table_name (expression)

 		expression
 			- it can be an arthematic expression or an expression that contains a function such as a SQL function, PL/SQL function, and package function 


 		Examples of funtion based index

 		1.	create index members_last_name_fi
 			ON members(UPPER(last_nanme));

 		2.  create index salcomm_ind on emp (sal+comm);


 BITMAP INDEXES 
 ----------------
 	- create a bitmap indexes on those columns which containes many repeated values and when tables are large. city column in EMP table is a good canditate fot Bitmap index because it containes many repeated values 
 	- to create a composite index give the following command. Oracle Bitmap index for indexing columns with low cardinality 

 		CREATE BITMAP INDEX index_name ON table_name (column_1[,column_2,...]);

 	Bitmap indexes examples

 		1. create bitmap index members_gender_i ON member(gender);

 		- here gender columns have two distict values, F for female M for male. when a column has a few distict values, we say that column has low cardinality 

 		2. create bitmap index city_ind on emp (city);



 
 CLUSTERS
----------
	- If you have two or more tables are joined together on a single column and most of the time you issue join queries on them, then consider creating a cluster of these tables 
	- A cluster is a group of tables that share the same data blocks i.e all the tables are physically stored together 
	- for example EMP and DEPT table are joined on DEPTNO column if you cluster them oracle physically stores all rows for each department from both the emp and dept tables in the same data blocks 

		- since cluster stores related rows of different tables in same data blocks, Disk I/O is reduced and access time improves for joins of clustered tables 
		- Each cluster key value is stored only once each in the cluster and the cluster index, no matter how many rows of different tables containe the value 

	- therefore less storage might required to store related table and index data in a cluster than is necessary in non-clustered table format 

		- create clustered tables first create a cluster ad create index on it. then create table on it 
		- for example to create cluster of EMP and DEPT tables in which the DEPTNO will be the cluster key, firts create the cluster by using below command 

			create cluster emp_dept (deptno number(2));

		- Now create index on it 

			create index on cluster emp_dept;

		Nnow cretae table in the cluster like below 

			create table dept (deptno number(2),
				name varchar2(20),
				loc varchar2(20));
				cluster emp_dept (deptno);

			create table emp (empno number(5),
				name varchar2(20),
				sal number(10,2),
				deptno number(2)) cluster emp_dept (deptno);

		- To drop cluster 

			drop cluster emp_dept;





			